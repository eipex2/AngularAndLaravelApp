<div layout="column" layout-fill class="grey-background">
  <div  layout="row" layout-padding layout-align="center center">
    <div>
        <img class="book-thumbnail" src="{{vm.listing.thumbnail}}" alt="girl-avatar"/>
    </div>
    <div class="text-light">
        <h4 class="font-weight-600 margin-bottom-0 text-light">{{vm.listing.title}}</h3>
        <p>by <span class="profile-title" ng-click="vm.showProfile(vm.listing.user.id)">{{vm.listing.user.firstname + ' '+ vm.listing.user.lastname}}</span></p>
     </div>
   </div>

  <div layout="row" class="profile" flex layout-padding>
      <div layout-fill layout="row"  class="grey-background" >
        <div flex="20" flex-xs="0"></div>
          <md-tabs md-whiteframe="1" md-border-bottom flex="80" flex-xs="100" style="background-color:white">
            <md-tab label="Offers">
                <md-list>
                  <md-list-item ng-click="vm.showDetail(listing.id)" class="md-2-line" ng-repeat="rental in vm.listing.rents">
                      <img  class="list-user-avatar" src="img/assets/images/avatars/avatar-5.png"  alt="{{}}" />
                      <div class="md-list-item-text" layout="column" layout-align="start start">
                        <h3>{{rental.user.firstname + ' ' +rental.user.lastname}}</h3>
                        <h4>Date: {{rental.start_date + ' to ' + rental.end_date}}</h4>
                      </div>
                      <md-button ng-show="vm.showUpdateButton" ng-click="vm.updateReservation(rental.id, rental.status)" class="md-secondary md-raised">
                          {{rental.status==="cancelled"||rental.status==='pending'? 'Approve': 'Cancel'}}
                      </md-button>
                      <md-button ng-disabled="true" ng-hide="vm.showUpdateButton">{{rental.status}}</md-button>
                      <md-divider></md-divider>
                  </md-list-item>
                </md-list>
            </md-tab>
            <md-tab label="calender">
              <md-calendar layout-fill ng-model="birthday"></md-calendar>
            </md-tab>
          </md-tabs>
          <div flex="20" flex-xs="0"></div>
          </div>
    </div>
</div>


<md-tab label="Offers">
  <md-list>
    <div layout="row" layout-align="start center" class="md-2-line" ng-repeat="rental in vm.listing.rents">
      <div layout-align="center center">

      </div>
      <div class="md-list-item-text" flex>
        <p class="profile-title" style="font-size:14px">{{rental.user.firstname + ' ' +rental.user.lastname}}</h3>
        <p style="font-size:10px">Date: {{rental.start_date + ' to ' + rental.end_date}}</p>
      </div>
      <md-card-actions layout="column" layout-align="end center">
        <md-button ng-show="vm.showUpdateButton" ng-click="vm.updateReservation(rental.id, rental.status)">
            {{rental.status==="declined"||rental.status==='pending'? 'Approve': 'Decline'}}
        </md-button>
        <p ng-hide="vm.showUpdateButton">{{rental.status}}</p>
      </md-card-actions>
    </div>
  </md-list>
</md-tab>
